@tailwind base;
@tailwind components;
@tailwind utilities;

@layer utilities {
	.animate-in {
		animation: slideIn 0.3s ease-out;
	}

	.slide-in-from-bottom {
		animation: slideInFromBottom 0.3s ease-out;
	}

	.slide-in-from-top {
		animation: slideInFromTop 0.3s ease-out;
	}

	.fade-in {
		animation: fadeIn 0.5s ease-out;
	}

	.animate-slide-in-right {
		animation: slideInRight 0.4s ease-out;
	}

	.animate-progress-bar {
		animation: progressBar linear forwards;
	}
}

@keyframes slideIn {
	from {
		opacity: 0;
		transform: translateY(10px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

@keyframes slideInFromBottom {
	from {
		opacity: 0;
		transform: translateY(20px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

@keyframes slideInFromTop {
	from {
		opacity: 0;
		transform: translateY(-10px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

@keyframes fadeIn {
	from {
		opacity: 0;
	}
	to {
		opacity: 1;
	}
}

@keyframes slideInRight {
	from {
		opacity: 0;
		transform: translateX(100%);
	}
	to {
		opacity: 1;
		transform: translateX(0);
	}
}

@keyframes progressBar {
	from {
		width: 100%;
	}
	to {
		width: 0%;
	}
}

/* Custom scrollbar for light theme */
::-webkit-scrollbar {
	width: 8px;
	height: 8px;
}

::-webkit-scrollbar-track {
	background: rgba(245, 245, 245, 0.5);
}

::-webkit-scrollbar-thumb {
	background: rgba(144, 0, 255, 0.3);
	border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
	background: rgba(144, 0, 255, 0.5);
}

/* Markdown styling for light theme */
.markdown-content {
	@apply text-gray-800;
}

.markdown-content h1 {
	@apply text-2xl font-bold mt-4 mb-2 text-gray-900;
}

.markdown-content h2 {
	@apply text-xl font-bold mt-3 mb-2 text-gray-900;
}

.markdown-content h3 {
	@apply text-lg font-bold mt-2 mb-1 text-gray-800;
}

.markdown-content p {
	@apply mb-3 leading-relaxed;
}

.markdown-content ul {
	@apply list-disc list-inside mb-3 ml-4;
}

.markdown-content ol {
	@apply list-decimal list-inside mb-3 ml-4;
}

.markdown-content code {
	@apply bg-gray-100 px-2 py-1 rounded text-sm font-mono;
}

.markdown-content pre {
	@apply bg-gray-100 p-4 rounded-lg mb-3 overflow-x-auto border border-gray-200;
}

.markdown-content pre code {
	@apply bg-transparent p-0;
}

.markdown-content a {
	@apply hover:underline transition-colors;
}

.markdown-content blockquote {
	@apply border-l-4 pl-4 italic my-3 text-gray-600;
}

.markdown-content strong {
	@apply font-semibold text-gray-900;
}

/* Markdown styling for assistant messages with white background */
.markdown-content-assistant {
	@apply text-gray-800;
}

.markdown-content-assistant h1 {
	@apply text-2xl font-bold mt-4 mb-2 text-gray-900;
}

.markdown-content-assistant h2 {
	@apply text-xl font-bold mt-3 mb-2 text-gray-900;
}

.markdown-content-assistant h3 {
	@apply text-lg font-bold mt-2 mb-1 text-gray-800;
}

.markdown-content-assistant p {
	@apply mb-3 leading-relaxed;
}

.markdown-content-assistant ul {
	@apply list-disc list-inside mb-3 ml-4 space-y-1;
}

.markdown-content-assistant ol {
	@apply list-decimal list-inside mb-3 ml-4 space-y-1;
}

.markdown-content-assistant li {
	@apply ml-2;
}

.markdown-content-assistant strong {
	@apply font-semibold text-gray-900;
}

.markdown-content-assistant code {
	@apply bg-health-gray-light px-2 py-1 rounded text-sm font-mono text-health-gray-text;
}

.markdown-content-assistant pre {
	@apply bg-health-gray-light p-4 rounded-lg mb-3 overflow-x-auto border border-gray-200;
}

.markdown-content-assistant pre code {
	@apply bg-transparent p-0;
}

.markdown-content-assistant a {
	@apply text-health-purple hover:text-health-purple-dark hover:underline transition-colors;
}

.markdown-content-assistant blockquote {
	@apply border-l-4 border-health-purple/50 pl-4 italic my-3 text-gray-600;
}

/* Markdown styling for user messages on red background */
.markdown-content-user {
	@apply text-white;
}

.markdown-content-user h1 {
	@apply text-2xl font-bold mt-4 mb-2 text-white;
}

.markdown-content-user h2 {
	@apply text-xl font-bold mt-3 mb-2 text-white;
}

.markdown-content-user h3 {
	@apply text-lg font-bold mt-2 mb-1 text-white;
}

.markdown-content-user p {
	@apply mb-3 leading-relaxed text-white;
}

.markdown-content-user ul {
	@apply list-disc list-inside mb-3 ml-4 space-y-1 text-white;
}

.markdown-content-user ol {
	@apply list-decimal list-inside mb-3 ml-4 space-y-1 text-white;
}

.markdown-content-user li {
	@apply ml-2 text-white;
}

.markdown-content-user strong {
	@apply font-semibold text-white;
}

.markdown-content-user code {
	@apply bg-white/20 px-2 py-1 rounded text-sm font-mono text-white;
}

.markdown-content-user pre {
	@apply bg-white/10 p-4 rounded-lg mb-3 overflow-x-auto border border-white/20;
}

.markdown-content-user pre code {
	@apply bg-transparent p-0;
}

.markdown-content-user a {
	@apply text-white underline hover:text-white/80 transition-colors;
}

.markdown-content-user blockquote {
	@apply border-l-4 border-white/50 pl-4 italic my-3 text-white/90;
}

/* Line clamp utility */
.line-clamp-2 {
	display: -webkit-box;
	-webkit-line-clamp: 2;
	line-clamp: 2;
	-webkit-box-orient: vertical;
	overflow: hidden;
}

/* Auto-scrolling suggestions styles - Two-container seamless approach */
.suggestions-container {
	position: relative;
	overflow: hidden;
	/* Softer fade for smoother appearance */
	mask-image: linear-gradient(
		to right,
		transparent 0%,
		black 5%,
		black 95%,
		transparent 100%
	);
	-webkit-mask-image: linear-gradient(
		to right,
		transparent 0%,
		black 5%,
		black 95%,
		transparent 100%
	);
}

.suggestion-track {
	display: flex;
	width: fit-content;
}

.suggestion-group {
	display: flex;
	gap: 1rem;
	white-space: nowrap;
	padding-right: 1rem; /* Gap between groups */
	will-change: transform;
	backface-visibility: hidden;
	perspective: 1000px;
}

@keyframes scrollLeft {
	0% {
		transform: translateX(0);
	}
	100% {
		transform: translateX(-100%);
	}
}

.suggestion-chip {
	display: inline-flex;
	flex-shrink: 0;
	padding: 0.75rem 1.5rem;
	background: white;
	border: 1px solid rgba(144, 0, 255, 0.2);
	border-radius: 0.5rem;
	font-size: 0.875rem;
	color: #4a4a4a;
	cursor: pointer;
	box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
	transition: background 0.2s ease, border-color 0.2s ease, box-shadow 0.2s ease;
}

.suggestion-chip:hover {
	background: rgba(144, 0, 255, 0.05);
	border-color: rgba(144, 0, 255, 0.4);
	box-shadow: 0 4px 6px rgba(144, 0, 255, 0.1);
}
